# Inventory file
#
# ---> Encryption instructions in comments below.
#
# Here, you'll see two groups of hosts: servers and workstation.
# Then, you'll see a group of groups: all.
# There're settings for each individual host, then for groupf of shosts, then for groups of groups.
#

servers:
  hosts:
    # List all x.x.x.x IP's or resolved names of all the servers.
    # Next to each host, you can list variables applied to that host.
    192.168.0.133: { my_name: "test_server1", }
  
  vars:
    # Variables applied to the group of hosts above.
    sshd: "ssh"
    sshd_config: "/etc/ssh/sshd_config"
    ssh_user: "{{ sudo_user }}"
    ssh_identity_key: "{{ ssh_filename }}"
    timezone: "America/New_York"

workstations:
  hosts:
    localhost:
      my_name: "workstation1"
      # These ansible_ variables can be obtained/superseeded by changing gather_facts to true in the playbook.
      ansible_distribution: "Ubuntu"
      ansible_os_family: "debian"
  
  vars:
    # Super user SSH installed only on workstation. This user can login to any server using a private SSH key and passphrase.
    sudo_ssh_passphrase: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      34643937643830316136353738323236333330666334663163383131323762343436303766313964
      3162376637313734376334646434303262633134316564660a383035356334376635316266343261
      63613839353232616538346434353131343231303763663230396632343638306437346663326634
      6537376231663230610a373433343432353736336463656136333161396436363063626464323638
      62383430383663623032363132353939313939323534323738666339356432663962363566613936
      66643237303162363233396664626564663563303930666239323937343862633231613938663234
      38363661363730303863313563343438313061346236326266313665653336646565643831316137
      37333335616561666531623332393331623134343039643038343063383639393565366164336536
      62393738346135653231633230623162363033373265353962663436353463383232
    
    # Shell variables
    zsh_ohmy_theme: "robbyrussell"
    # zsh_ohmy_theme: "powerlevel9k/powerlevel9k"
    zsh_ohmy_disable_auto_update: "false"
    # Wether to install by default for all specified users.
    # May be overridden by `oh_my_zsh_install` under each user.
    oh_my_zsh_install: yes

all:
  children:
    # Here're all the groups of hosts that are above. So we can have common variables.
    servers:
    workstatons:
    
  vars:
    # Client info ----------------------
    # This is used by fail2ban to ensure this IP won't get banned, ever.
    my_client_ip: ""
    
    # Super user installed in all machines, including workstation. --------------------
    sudo_user: "juanlazarde_test"
    sudo_password: !vault |
      $ANSIBLE_VAULT;1.1;AES256
      34643937643830316136353738323236333330666334663163383131323762343436303766313964
      3162376637313734376334646434303262633134316564660a383035356334376635316266343261
      63613839353232616538346434353131343231303763663230396632343638306437346663326634
      6537376231663230610a373433343432353736336463656136333161396436363063626464323638
      62383430383663623032363132353939313939323534323738666339356432663962363566613936
      66643237303162363233396664626564663563303930666239323937343862633231613938663234
      38363661363730303863313563343438313061346236326266313665653336646565643831316137
      37333335616561666531623332393331623134343039643038343063383639393565366164336536
      62393738346135653231633230623162363033373265353962663436353463383232
      
    # SSH variables --------------------
    ssh_port: "22"
    ssh_filename: "id_ed25519"
    ssh_key_type: "ed25519"

    # Ansible variables ----------------
    the_ansible_ssh_port: "22"
    the_ansible_ssh_filename: "ansible"
    the_ansible_ssh_passphrase: ""
    the_ansible_ssh_key_type: "ed25519"

# -----------------------------------------------------------
# Hash and Encrypt secrets (i.e. Passwords, Passphrases, etc)
#------------------------------------------------------------
# Install whois: $ sudo apt install -y whois
# Create Hashed password: $ mkpasswd --method=sha-512 --salt=1234asdf
# Delete the line breaK: $ tr -d '\n'
# Then encrypt it with ansible vault: $ ansible-vault create --vault-password-file ~/.vault_key
# All in one: $ mkpasswd --method=sha-512 --salt=1234asdf | tr -d '\n' | ansible-vault encrypt --vault-password-file ~/.vault_key | sed '/$ANSIBLE/i \!vault |'
# -----------------------------------------------------------

# This is the default ansible 'hosts' file.
#
# It should live in /etc/ansible/hosts
#
#   - Comments begin with the '#' character
#   - Blank lines are ignored
#   - Groups of hosts are delimited by [header] elements
#   - You can enter hostnames or ip addresses
#   - A hostname/ip can be a member of multiple groups

# Ex 1: Ungrouped hosts, specify before any group headers.

## green.example.com
## blue.example.com
## 192.168.100.1
## 192.168.100.10

# Ex 2: A collection of hosts belonging to the 'webservers' group

## alpha.example.org
## beta.example.org
## 192.168.1.100
## 192.168.1.110

# If you have multiple hosts following a pattern you can specify
# them like this:

## www[001:006].example.com

# Ex 3: A collection of database servers in the 'dbservers' group

## [dbservers]
##
## db01.intranet.mydomain.net
## db02.intranet.mydomain.net
## 10.25.1.56
## 10.25.1.57

# Here's another example of host ranges, this time there are no
# leading 0s:

## db-[99:101]-node.example.com
